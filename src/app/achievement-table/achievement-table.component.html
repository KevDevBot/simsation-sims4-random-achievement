<table
  mat-table
  [dataSource]="dataSource"
  matSort
  (matSortChange)="sortAchievements($event)"
  class="achievements-table mat-elevation-z8"
>
  <!-- Achievement Toggle -->
  <ng-container matColumnDef="achievement-toggle">
    <th
      mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      aria-label="Sort achievement toggles by check"
      class="col0"
    ></th>
    <td
      mat-cell
      *matCellDef="let achievement"
      [id]="'achv-' + achievement.name"
    >
      <mat-checkbox
        [aria-label]="'Toggle for ' + achievement.name"
        [checked]="achievement.enabled"
        (change)="toggleAchievement(achievement)"
        color="primary"
      ></mat-checkbox>
    </td>
  </ng-container>

  <!-- Achievement Name Column -->
  <ng-container matColumnDef="achievement">
    <th
      mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      aria-label="Sort achievements by name"
      class="col1"
    >
      Achievement
    </th>
    <td mat-cell *matCellDef="let achievement" class="col1">
      {{ achievement.name }}
    </td>
  </ng-container>

  <!-- Achievement Description Column -->
  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef mat-sort-header class="col2">
      Description
    </th>
    <td mat-cell *matCellDef="let achievement" class="col2">
      {{ achievement.description }}
    </td>
  </ng-container>

  <!-- Achievement Pack Column -->
  <ng-container matColumnDef="pack">
    <th
      mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      aria-label="Sort achievements by pack"
      class="col4"
    >
      Pack
    </th>
    <td mat-cell *matCellDef="let achievement" class="col4">
      {{ achievement.pack }}
    </td>
  </ng-container>

  <!-- Achievement Category Column -->
  <ng-container matColumnDef="category">
    <th
      mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      aria-label="Sort achievements by category"
      class="col5"
    >
      Category
    </th>
    <td mat-cell *matCellDef="let achievement" class="col5">
      {{ achievement.category }}
    </td>
  </ng-container>

  <!-- Achievement Points Column -->
  <ng-container matColumnDef="points">
    <th
      mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      aria-label="Sort achievements by points"
      class="col3"
    >
      Points
    </th>
    <td mat-cell *matCellDef="let achievement" class="col3">
      {{ achievement.points }}
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr
    mat-row
    *matRowDef="let row; columns: displayedColumns"
    [ngClass]="
      row.name === achievementService.showcased.value.name ? 'showcased' : ''
    "
  ></tr>
</table>
